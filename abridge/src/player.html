[% use Seat::*; %]
<table class="bidhistory">
    <tr>[% let who = self.game.dealer; %]
        <th>[% who.name() %]</th>
        <th>[% who.next().name() %]</th>
        <th>[% who.next().next().name() %]</th>
        <th>[% who.next().next().next().name() %]</th></tr>
    [% for row in self.game.bids.chunks(4) {
        %]<tr>[% for b in row.iter() {
            %]<td>[% b %]</td>[%
            } %]</tr>[%
    } %]
</table>
<div class="hand" id="north">[% if self.game.hand_visible_to(North, self.seat) { self.game.playable_cards(Seat::North) } else { %]North[% } %]</div>
<div class="hand" id="west">[% if self.game.hand_visible_to(West, self.seat) { self.game.playable_cards(Seat::West) } else { %]West[% } %]</div>
<div class="hand" id="east">[% if self.game.hand_visible_to(East, self.seat) { self.game.playable_cards(Seat::East) } else { %]East[% } %]</div>
<div class="hand" id="south">[% if self.game.hand_visible_to(South, self.seat) { self.game.playable_cards(Seat::South) } else { %]South[% } %]</div>
[% if self.game.bidder() == Some(self.seat) {
    %] <div class="bidboard">
        [% for &b in BIDS.iter() {
        %]<button[%
            if b == Bid::Pass {
                %] class="pass"[%
            } %][%
            if !self.game.bid_is_legal(self.seat, b) {
            %] disabled[%
            } else {
                Action::Bid(b)
            } %]>[% b %]</button>[%
        } %]
    </div>[%
} %]
